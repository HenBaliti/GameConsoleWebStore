@model GameConsuleWebStore.Models.Product

@{
    ViewData["Title"] = "Details";
}

@*-------------------------------------------------------*@
@*------------------------Google Map---------------------*@
@*-------------------------------------------------------*@
<style>
    /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
    #map {
        height: 400px;
        width: 400px;
    }

    /* Optional: Makes the sample page fill the window. */
</style>

@*-------------------------------------------------------*@
@*------------------------Google Map---------------------*@
@*-------------------------------------------------------*@


<h2>Details - @Html.DisplayFor(model => model.Name)</h2>
<hr />

<div class="DetailGameShow">

    <dl class="dl-horizontal col-md-7">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ReleaseDate)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ReleaseDate)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Price)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Price)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.StockUnit)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.StockUnit)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.ConsoleType)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.ConsoleType)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.StoreLocation)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.StoreLocation)
        </dd>
        <dd>
            <div id="map">
            </div>
        </dd>
        <dd>
            <img class="DetailPicShow" src="~/images/@Html.DisplayFor(model => model.pathPicture)" style=" margin-left: 700px; margin-top: -1000px;"/>
        </dd>
        <dd>
            <div>
                <a asp-action="Index">Back to Shop</a>
            </div>
        </dd>
    </dl>
</div>



<input hidden type="text" name="LatNum" id='LatNum' value="@ViewBag.StoreMapLatitude" />
<input hidden type="text" name="LngNum" id='LngNum' value="@ViewBag.StoreMapLongitude" />


<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script>
    let map;

    function initMap() {

        var LatOfProduct = parseFloat(document.getElementById('LatNum').value);
        var LngOfProduct = parseFloat(document.getElementById('LngNum').value);

        map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: LatOfProduct, lng: LngOfProduct },
            zoom: 16,
        });
        // The marker, positioned at Uluru
        const marker = new google.maps.Marker({
            position: { lat: LatOfProduct, lng: LngOfProduct },
            map: map,
        });
    }
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDF7eSXpi_XXXJAAJ7VRmCN8Ig9sBEOH7Y&callback=initMap&libraries=&v=weekly"
        defer></script>
